
<form [formGroup]="parentForm" #ticketCommentsComponent>
  <ngx-spinner
  [fullScreen]="true"
  type="ball-newton-cradle"
  size="medium"
></ngx-spinner>
  <div class="card">
    <!-- <div
      class="card-header container-fluid"
      data-toggle="collapse"
      data-target="#idComments"
    >
      Comment
      <button
        class="oi oi-chevron-bottom float-right"
        data-toggle="collapse"
        data-target="#idComments"
      ></button>
    </div> -->
    <div id="idComments" >
      <div class="card-body">
        <div class="form-group">
          <div class="row">
            <div class="col">
              <quill-editor 
                    formControlName="fctlComment" 
                    [styles]="editorStyle" 
                    [modules]="config" 
                    [minLength]="5"
                    [placeholder]="'Enter your comment'"
                    (onFocus)="execCommentFocusFunctions()"
                    (onBlur)="execCommentBlurFunctions()"
                    (onEditorChanged)="execOnEditorChanged()"
                    (onEditorCreated)="onEditorCreated($event)"
              >
              </quill-editor>

            </div>
          </div>

          <div class="row mt-3">
            <div class="col-lg-12">
              <button  type="button" label="Save Comment" class="btn btn-primary "
                (click)="saveComment()" [disabled]="!getCommentVal() ">Comment</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</form>
<br />

<h5>
  Comment History
</h5>
<hr>
<div *ngIf="allComments" style="background-color:#FFFFFF;">
  <div class="container-fluid" style="background-color: #F8F8F8;">
    <ng-container *ngFor="let comment of allComments">
      <div class="row mb-3" >
        <div class="col-lg-12 comment-item-col" >
          <p  class="comment-header">
            <span class="comment-author">{{comment.created_by}}</span>
            commented on :
            {{comment.created_date | date : 'dd MMM yyyy HH:mm:ss'}}</p>
          <quill-editor [(ngModel)]="comment.comment_text" [readOnly]="true" [modules]="{toolbar:false}"
            [styles]="{'height':'auto','border':'0px','margin':'0px 0px 0px 0px'}"></quill-editor>
        </div>
      </div>
    </ng-container>
  </div>
</div>
